<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Customer Form</title>
    <link href="assets/styles/style.css" rel="stylesheet">
    <link href="assets/fonts/css/all.min.css" rel="stylesheet">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

<div class="has-bg-img ">
    <img class="bg-img position-absolute " src="assets/images/images%20(9).jpeg" alt="..." style="width: 100% ;height: 98vh ">

    <div id="blur-area"></div>

    <section class="container">
        <nav>
            <img src="assets/images/Logo.png" alt="" class="logo">
            <ul>
                <li><a href="index.html" >HOME</a> </li>
                <li><a href="placeOrder.html" >ORDER</a> </li>
                <li><a href="customer.html" >Manage Customer</a> </li>
                <li><a href="item.html" >Manage Item</a> </li>

            </ul>
        </nav>
    </section>

    <section class="container-fluid mt-3 form  " >
        <section class="row mt-3 justify-content-around">
            <div class="col-12 col-md-4">
                <div class="shadow-sm pt-3 pb-5 px-3 py-3 mt-2">
                    <h1 class="h1 mb-3" style="color: #fff">Customer Manage</h1>
                    <div class="mb-3">
                        <label class="form-label" for="srcCusID" style="color: #fff">Search Customer</label>
                        <input class="form-control" id="srcCusID" placeholder="Customer ID, NIC, Name" type="text">
                    </div>
                    <button class="btn btn-primary" id="btnSearch">Search</button>
                    <button class="btn btn-danger">Delete</button>
                    <button class="btn btn-success" id="btnSaveOrUpdate">Save or Update</button>
                </div>
            </div>
            <div class="col-12 col-md-5">
                <div class="mb-3">
                    <label class="form-label" for="txtCusID" id="cus01">Customer ID </label>
                    <input class="form-control" id="txtCusID" placeholder="Customer ID" type="text">
                    <p><small id="error" class="text-danger pl-1"></small></p>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="txtCusName" style="color: #fff">Customer Name</label>
                    <input class="form-control" id="txtCusName" placeholder="Customer Name" type="text">
                </div>
                <div class="mb-3">
                    <label class="form-label" for="txtCusAddress" style="color: #fff">Customer Address</label>
                    <input class="form-control" id="txtCusAddress" placeholder="Customer Address" type="text">
                </div>
                <div class="mb-3">
                    <label class="form-label" for="txtCusTP" style="color: #fff">Customer Tp</label>
                    <input class="form-control" id="txtCusTP" placeholder="Customer Tp" type="text">
                </div>
            </div>
        </section>
        <section class="row mt-4">
            <div class="col">
                <table class="table table-hover" STYLE="color: white">
                    <thead class="bg-danger text-white">
                    <tr>
                        <th>Customer ID</th>
                        <th>Customer Name</th>
                        <th>Customer Address</th>
                        <th>Customer TP.</th>
                    </tr>
                    </thead>
                    <tbody id="customerTable">


                    </tbody>
                </table>
            </div>
        </section>

    </section>

</div>
<script src="assets/jQuery/jquery-3.6.0.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="db/DB.js"></script>
<script src="module/customerDTO.js"></script>
<script src="controller/customerController.js"></script>
<script>

    // Add Customer

    // Select Button
    $("#btnSaveOrUpdate").click(function () {

        // remove all the row click events added before
        $("#customerTable>tr").off();


        //gather customer information



        //bind the events to the table rows after the row was added
        $("#customerTable>tr").click(function () {
            // this//dom object
            // $(this);//jQuery object

            // $(this)//tr
            // $(this).children(); //return all td inside selected row
            let cusID = $(this).children(":eq(0)").text(); // select first td and get text
            let cusName = $(this).children(":eq(1)").text();
            let cusAddress = $(this).children(":eq(2)").text();
            let cusTP = $(this).children(":eq(3)").text();

            console.log(cusID, cusName, cusAddress, cusTP);

            // set values for the input fields
            $("#txtCusID").val(cusID);
            $("#txtCusName").val(cusName);
            $("#txtCusAddress").val(cusAddress);
            $("#txtCusTP").val(cusTP);

        });


        /*Remove selected row from the double click*/
        $("#customerTable>tr").dblclick(function () {
            $(this).remove();
        });

    });




</script>
</body>
</html>